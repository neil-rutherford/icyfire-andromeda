{% extends "layout.html" %}

{% block content %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('help.help') }}">Help</a></li>
            <li class="breadcrumb-item"><a href="{{ url_for('help.help_topic', topic='api') }}">API</a></li>
            <li class="breadcrumb-item active" aria-current="page">Get information about an article</li>
        </ol>
    </nav>

    <h1 class="text-center">Get information about an article</h1>
    <p>Returns information about a given article. Takes <code>article_id</code> (article primary key, as an integer) as an argument.</p>
    <table class="table table-striped">
        <tr>
            <td>Endpoint</td>
            <td><code>/_api/get/article/[ARTICLE_ID]</code></td>
        </tr>
        <tr>
            <td>Method</td>
            <td><code>POST</code></td>
        </tr>
        <tr>
            <td>Form-encoded POST input</td>
            <td><code>{
                'consumer_key': [CONSUMER_KEY],
                'consumer_secret': [CONSUMER_SECRET]
            }</code></td>
        </tr>
        <tr>
            <td>On success</td>
            <td><ul>
            <li>200 status code</li>
            <li>JSON object</li>
            <li><code>{
                    'id': Primary key (int),
                    'user_id': Author's user ID (int),
                    'image_file_path': Cover image (str),
                    'slug': Slug (str),
                    'title': Article title (str),
                    'description': Article description (str),
                    'section': Section ID (int, 1: Politics, 2: World, 3: Technology, 4: Energy/Environment, 5: Economy/Business, 6: Science/Religion, 7: Health),
                    'tags': Tags (str, delimiter: ", "),
                    'body': Article body (str),
                    'timestamp': UTC timestamp (datetime),
                    'comments': Number of comments (int),
                    'logs': Number of page views (int),
                    'shares': Number of social media shares (int)
            }</code></li>
            </ul></td>
        </tr>
        <tr>
            <td>Example response</td>
            <td><code>{
                'id': 4,
                'user_id': 436,
                'image_file_path': 'https://bit.ly/2ZSEkva',
                'slug': 'u.s.-strikes-iran-backed-militia-facilities-in-syria',
                'title': 'U.S. strikes Iran-backed militia facilities in Syria',
                'description': 'The United States on Thursday carried out an airstrike against facilities in Syria linked to an Iran-backed militia group, the Pentagon announced.',
                'section': 2,
                'tags': 'united states, iran, syria, airstrike, pentagon',
                'body': 'The strike, approved by President Biden, comes "in response to...',
                'timestamp': 2021-02-26T00:39:44.126285Z,
                'comments': 56,
                'logs': 4521,
                'shares': 43
            }</code></td>
        </tr>
        <tr>
            <td>Error messages</td>
            <td>
                <ul>
                    <li>403 (Client not found): Consumer key is incorrect.</li>
                    <li>403 (Incorrect credentials): Consumer secret is incorrect.</li>
                    <li>403 (API access has been restricted): Your credentials are correct, but your app is either not approved or on a blacklist.</li>
                    <li>403 (Insufficient permissions): You don't have permission to access that resource. (e.g. Trying to access users without the "users" permission.)</li>
                    <li>404: Article not found.</li>
                    <li>429 (Too many requests): You have exceeded your rate limit.</li>
                </ul>
            </td>
        </tr>
    </table>
{% endblock %}